<div class="ah-main-header">
  <div class="left">
    <span class="title blue">物流线路 > 添加</span>
  </div>
</div>

<div ng-show="isPopupShown" class="pop-up-wapper">
  <div class="pop-up-title">
    添加新的梯度
  </div>
  <div class="pop-up-body">
    <div class="pop-up-section pure-g">
      <div class="pure-u-1-5 input-label">填写范围</div>
      <div class="pure-u-1-5"><input ng-model="ladderFrom" type="text"></div>
      <div class="pure-u-1-5 input-label">至</div>
      <div class="pure-u-1-5"><input ng-model="ladderTo" type="text"></div>
    </div>
    <div class="poo-up-section"><input type="text" ng-model="ladderPrice" placeholder="填写此范围的价格"> </div>      
  </div>
  <div class="pop-up-opt pure-g">
    <div class="pure-u-2-3 pop-up-tips">
      <!-- 提示：更新重量后状态将变为等待付款 -->
    </div>
    <div class="pure-u-1-3">
      <a ng-click="popupCancle()" class="pure-button red horizon-small">取消</a>
      <a ng-click="popupConfirm()" class="pure-button blue horizon-small">确认</a>
    </div>
  </div>
</div>

  <div class=" ah-section"> 基本信息 </div>
      <!-- 表单第一行开始 -->
     <div class="pure-g ah-form-line">
      <div class="pure-u-2-24 input-label">线路名称</div> 
      <div class="pure-u-3-24"><input ng-model="logisticPath.logistic_name"></div>
      <div class="pure-u-2-24 input-label">重量上线(Kg)</div> 
      <div class="pure-u-1-24"><input ng-model="logisticPath.weight_upper_bound"></div>
      <div class="pure-u-2-24 input-label">国际段公司名:</div> 
      <div class="pure-u-2-24"><input ng-model="logisticPath.ship_company_international"></div>    
      <div class="pure-u-2-24 input-label">国内段公司名:</div> 
      <div class="pure-u-2-24"><input ng-model="logisticPath.ship_company_china"></div>    
     </div>

      <!-- 第一行结束结束 -->

      <!-- 表单第二行 -->
     <div class="pure-g ah-form-line">
      <div class="pure-u-2-24 input-label">可发货类型</div> 
      <div class="pure-u-14-24">
      <span ng-repeat="type in logisticTypes" ><input ng-model="type.selected" type="checkbox" name="sports" value="soccer"  />{{type.type_name}}</span>

      </div> 


     </div>

      <!-- 第2行结束结束 -->
      <!-- 表单第三行开始 -->
      <div class="pure-g ah-form-line">
      <div class="pure-u-2-24 input-label">适用用户组</div> 
      <div class="pure-u-4-24">
        <select ng-model="logisticPath.user_group">
          <option value="0">全部用户</option>
           <option value="1">普通用户</option>
            <option value="2">VIP用户</option>
        </select>
      <!-- <input ng-model="logisticPath.user_group"> -->

      </div>    
     </div>
      <div class="pure-g ah-form-line">
      <div class="pure-u-2-24 input-label">路线类型</div> 
      <div class="pure-u-4-24">
        <select ng-model="logisticPath.type">
          <option value="0">全部</option>
           <option value="1">入库</option>
            <option value="2">发货</option>
            <option value="3">移库</option>
        </select>
      <!-- <input ng-model="logisticPath.user_group"> -->

      </div>    
     </div>
     <!-- 表单第三行结束 -->
     <!-- 表单第四行开始 -->
      <div class="pure-g ah-form-line">
      <div class="pure-u-2-24 input-label">收费基准</div> 
      <div class="pure-u-4-24">
      <select ng-model="logisticPath.based_on">
        <option value="0">单件算</option>
        <option value="1">按重量梯度算</option>
        <option value="2">按每公斤算</option>
      </select></div>
      <div  ng-if="logisticPath.based_on!=1" class="pure-u-2-24 input-label">基准价格</div> 
      <div  ng-if="logisticPath.based_on!=1" class="pure-u-4-24"><input ng-model="logisticPath.base_price"></div>  

     </div>
    <!-- 第四行结束 -->
    <div ng-if="logisticPath.based_on==1">
      <div class="ah-section">价格梯度<span ng-click="addLadder()" class="add">+添加</span></div>
      <table class="pure-table pure-table-horizontal ah-line-table">
        <thead>
          <tr>
            <th class="pure-u-1-4">范围</th>
            <th class="pure-u-1-4">价格</th>
            <th class="pure-u-1-4">操作</th>
          </tr>
        </thead>
        <tbody>
          <!-- TODO: 这里请使用AS生产动态数据 -->
          <tr ng-repeat="ladder in ladders">
            <td>{{$first?"0":ladders[$index-1].lower_bound}}-{{ladder.lower_bound}}公斤</td>
            <td>{{ladder.unit_price}}元</td>
            <td><a ng-click="deleteLadder(ladder)">删除</a>｜<a ng-click="addLadder(ladder)">修改</a></td>
          </tr>
        </tbody>
      </table>

    </div>



      <div class="ah-section">线路描述</div>
      <div>
      <textarea ng-model="logisticPath.description"></textarea>
          <!-- <input ng-model="logisticPath.description" type="text"> -->
      </div>  
      </div><!-- 左侧主题结束 -->

<div class="pure-g action-btns">
    <div class="pure-u-1-2">
       <a class="pure-button back" ui-sref="logisticList">返回列表</a>
    </div>
    <div class="pure-u-1-2 right">
      <a  ng-click="" class="pure-button red">取消</a>
      <a  ng-click="submit()" class="pure-button blue">确认</a>
    </div>
</div>
</div>
